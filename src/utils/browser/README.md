# browser

ブラウザ固有の機能を担当するディレクトリです。

## ファイル

### chrome.js
Chrome拡張機能API（1.8KB、76行）
- **機能**: Chrome拡張機能APIのラッパー
- **特徴**: 統一されたインターフェース

### obsidian.js
Obsidianとの連携（1.0KB、28行）
- **機能**: Obsidian APIとの通信
- **特徴**: Obsidian固有の機能

## 主な機能

### Chrome API
- **ストレージ**: データの永続化
- **メッセージング**: コンポーネント間通信
- **タブ管理**: ブラウザタブの操作
- **通知**: システム通知の表示
- **権限管理**: 拡張機能権限の確認

### Obsidian API
- **Vault検出**: Obsidian Vaultの自動検出
- **ファイル操作**: ノートファイルの読み書き
- **プラグイン通信**: Obsidianプラグインとの連携
- **設定同期**: 設定の同期

## API設計

### 統一インターフェース
```javascript
// ストレージ操作
async function getStorage(key) {
  // 実装
}

async function setStorage(key, value) {
  // 実装
}

// メッセージング
async function sendMessage(target, message) {
  // 実装
}
```

### エラーハンドリング
- **API制限**: ブラウザ制限の処理
- **権限不足**: 必要な権限の確認
- **通信エラー**: メッセージングエラーの処理
- **タイムアウト**: 長時間処理の制御

## セキュリティ

- **権限の最小化**: 必要最小限の権限要求
- **データ検証**: 入力値の妥当性チェック
- **暗号化**: 機密データの保護
- **サニタイゼーション**: 悪意のあるデータの除去

## 開発ガイドライン

- ブラウザ互換性を確保
- パフォーマンスを最適化
- セキュリティを重視
- エラーハンドリングを徹底
